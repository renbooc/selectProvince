@echo off
chcp 65001 >nul
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo       é”€å”®ç½‘ç‚¹æŸ¥è¯¢ç³»ç»Ÿ - æ¡Œé¢ç‰ˆæ‰“åŒ…å·¥å…·
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

REM æ£€æŸ¥æ˜¯å¦å®‰è£…äº†pyinstaller
echo ğŸ“¦ æ£€æŸ¥ä¾èµ–...
pip show pyinstaller >nul 2>&1
if %errorlevel% neq 0 (
    echo ğŸ”§ æ­£åœ¨å®‰è£… PyInstaller...
    pip install pyinstaller
    echo âœ… PyInstaller å®‰è£…å®Œæˆ
) else (
    echo âœ… PyInstaller å·²å®‰è£…
)

echo.
echo ğŸ“¦ å¼€å§‹æ‰“åŒ…...
echo    è¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…...
echo.

REM ä½¿ç”¨PyInstalleræ‰“åŒ…
pyinstaller --onefile --windowed --name "é”€å”®ç½‘ç‚¹æŸ¥è¯¢ç³»ç»Ÿ" --add-data "templates;templates" --add-data "customer_data.py;." --add-data "local_data.py;." --hidden-import=requests --hidden-import=flask app.py

echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
if exist "dist\é”€å”®ç½‘ç‚¹æŸ¥è¯¢ç³»ç»Ÿ.exe" (
    echo âœ… æ‰“åŒ…æˆåŠŸï¼
    echo.
    echo ğŸ“‚ è¾“å‡ºç›®å½•: dist\é”€å”®ç½‘ç‚¹æŸ¥è¯¢ç³»ç»Ÿ.exe
    echo.
    echo ğŸš€ åŒå‡» "é”€å”®ç½‘ç‚¹æŸ¥è¯¢ç³»ç»Ÿ.exe" å³å¯è¿è¡Œ
) else (
    echo âŒ æ‰“åŒ…å¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯
)
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
pause
